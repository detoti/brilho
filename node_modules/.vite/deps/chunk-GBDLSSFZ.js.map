{
  "version": 3,
  "sources": ["../../framework7/shared/events-class.js", "../../framework7/shared/class.js"],
  "sourcesContent": ["class EventsClass {\n  constructor(parents) {\n    if (parents === void 0) {\n      parents = [];\n    }\n    const self = this;\n    self.eventsParents = parents;\n    self.eventsListeners = {};\n  }\n  on(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  }\n  once(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    function onceHandler() {\n      self.off(events, onceHandler);\n      if (onceHandler.f7proxy) {\n        delete onceHandler.f7proxy;\n      }\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      handler.apply(self, args);\n    }\n    onceHandler.f7proxy = handler;\n    return self.on(events, onceHandler, priority);\n  }\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.f7proxy && eventHandler.f7proxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  }\n  emit() {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n    let eventsParents;\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n      eventsParents = self.eventsParents;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n      eventsParents = args[0].local ? [] : args[0].parents || self.eventsParents;\n    }\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    const localEvents = eventsArray.map(eventName => eventName.replace('local::', ''));\n    const parentEvents = eventsArray.filter(eventName => eventName.indexOf('local::') < 0);\n    localEvents.forEach(event => {\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        const handlers = [];\n        self.eventsListeners[event].forEach(eventHandler => {\n          handlers.push(eventHandler);\n        });\n        handlers.forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    if (eventsParents && eventsParents.length > 0) {\n      eventsParents.forEach(eventsParent => {\n        eventsParent.emit(parentEvents, ...data);\n      });\n    }\n    return self;\n  }\n}\nexport default EventsClass;", "import { extend, now } from './utils.js';\nimport EventsClass from './events-class.js';\nclass Framework7Class extends EventsClass {\n  constructor(params, parents) {\n    if (params === void 0) {\n      params = {};\n    }\n    if (parents === void 0) {\n      parents = [];\n    }\n    super(parents);\n    const self = this;\n    self.params = params;\n    if (self.params && self.params.on) {\n      Object.keys(self.params.on).forEach(eventName => {\n        self.on(eventName, self.params.on[eventName]);\n      });\n    }\n  }\n\n  // eslint-disable-next-line\n  useModuleParams(module, instanceParams) {\n    if (module.params) {\n      const originalParams = {};\n      Object.keys(module.params).forEach(paramKey => {\n        if (typeof instanceParams[paramKey] === 'undefined') return;\n        originalParams[paramKey] = extend({}, instanceParams[paramKey]);\n      });\n      extend(instanceParams, module.params);\n      Object.keys(originalParams).forEach(paramKey => {\n        extend(instanceParams[paramKey], originalParams[paramKey]);\n      });\n    }\n  }\n  useModulesParams(instanceParams) {\n    const instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach(moduleName => {\n      const module = instance.modules[moduleName];\n      // Extend params\n      if (module.params) {\n        extend(instanceParams, module.params);\n      }\n    });\n  }\n  useModule(moduleName, moduleParams) {\n    if (moduleName === void 0) {\n      moduleName = '';\n    }\n    if (moduleParams === void 0) {\n      moduleParams = {};\n    }\n    const instance = this;\n    if (!instance.modules) return;\n    const module = typeof moduleName === 'string' ? instance.modules[moduleName] : moduleName;\n    if (!module) return;\n\n    // Extend instance methods and props\n    if (module.instance) {\n      Object.keys(module.instance).forEach(modulePropName => {\n        const moduleProp = module.instance[modulePropName];\n        if (typeof moduleProp === 'function') {\n          instance[modulePropName] = moduleProp.bind(instance);\n        } else {\n          instance[modulePropName] = moduleProp;\n        }\n      });\n    }\n    // Add event listeners\n    if (module.on && instance.on) {\n      Object.keys(module.on).forEach(moduleEventName => {\n        instance.on(moduleEventName, module.on[moduleEventName]);\n      });\n    }\n    // Add vnode hooks\n    if (module.vnode) {\n      if (!instance.vnodeHooks) instance.vnodeHooks = {};\n      Object.keys(module.vnode).forEach(vnodeId => {\n        Object.keys(module.vnode[vnodeId]).forEach(hookName => {\n          const handler = module.vnode[vnodeId][hookName];\n          if (!instance.vnodeHooks[hookName]) instance.vnodeHooks[hookName] = {};\n          if (!instance.vnodeHooks[hookName][vnodeId]) instance.vnodeHooks[hookName][vnodeId] = [];\n          instance.vnodeHooks[hookName][vnodeId].push(handler.bind(instance));\n        });\n      });\n    }\n    // Module create callback\n    if (module.create) {\n      module.create.bind(instance)(moduleParams);\n    }\n  }\n  useModules(modulesParams) {\n    if (modulesParams === void 0) {\n      modulesParams = {};\n    }\n    const instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach(moduleName => {\n      const moduleParams = modulesParams[moduleName] || {};\n      instance.useModule(moduleName, moduleParams);\n    });\n  }\n  static set components(components) {\n    const Class = this;\n    if (!Class.use) return;\n    Class.use(components);\n  }\n  static installModule(module) {\n    const Class = this;\n    if (!Class.prototype.modules) Class.prototype.modules = {};\n    const name = module.name || `${Object.keys(Class.prototype.modules).length}_${now()}`;\n    Class.prototype.modules[name] = module;\n    // Prototype\n    if (module.proto) {\n      Object.keys(module.proto).forEach(key => {\n        Class.prototype[key] = module.proto[key];\n      });\n    }\n    // Class\n    if (module.static) {\n      Object.keys(module.static).forEach(key => {\n        Class[key] = module.static[key];\n      });\n    }\n    // Callback\n    if (module.install) {\n      for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        params[_key - 1] = arguments[_key];\n      }\n      module.install.apply(Class, params);\n    }\n    return Class;\n  }\n  static use(module) {\n    const Class = this;\n    if (Array.isArray(module)) {\n      module.forEach(m => Class.installModule(m));\n      return Class;\n    }\n    for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      params[_key2 - 1] = arguments[_key2];\n    }\n    return Class.installModule(module, ...params);\n  }\n}\nexport default Framework7Class;"],
  "mappings": "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",
  "names": []
}
