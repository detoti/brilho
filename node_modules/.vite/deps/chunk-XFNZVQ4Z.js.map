{
  "version": 3,
  "sources": ["../../framework7/shared/get-device.js"],
  "sourcesContent": ["import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCalculated;\nfunction calcDevice(_temp) {\n  let {\n    userAgent\n  } = _temp === void 0 ? {} : _temp;\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false,\n    androidChrome: false,\n    desktop: false,\n    iphone: false,\n    ipod: false,\n    ipad: false,\n    edge: false,\n    ie: false,\n    firefox: false,\n    macos: false,\n    windows: false,\n    cordova: !!window.cordova,\n    electron: false,\n    capacitor: !!window.Capacitor,\n    nwjs: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS|iPhone;\\sCPU\\sOS)\\s([\\d_]+)/);\n  const ie = ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;\n  const edge = ua.indexOf('Edge/') >= 0;\n  const firefox = ua.indexOf('Gecko/') >= 0 && ua.indexOf('Firefox/') >= 0;\n  const windows = platform === 'Win32';\n  const electron = ua.toLowerCase().indexOf('electron') >= 0;\n  const nwjs = typeof nw !== 'undefined' && typeof process !== 'undefined' && typeof process.versions !== 'undefined' && typeof process.versions.nw !== 'undefined';\n  let macos = platform === 'MacIntel';\n\n  // iPadOs 13 fix\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  }\n  device.ie = ie;\n  device.edge = edge;\n  device.firefox = firefox;\n\n  // Android\n  if (android) {\n    device.os = 'android';\n    device.osVersion = android[2];\n    device.android = true;\n    device.androidChrome = ua.toLowerCase().indexOf('chrome') >= 0;\n  }\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  }\n  // iOS\n  if (iphone && !ipod) {\n    device.osVersion = iphone[2].replace(/_/g, '.');\n    device.iphone = true;\n  }\n  if (ipad) {\n    device.osVersion = ipad[2].replace(/_/g, '.');\n    device.ipad = true;\n  }\n  if (ipod) {\n    device.osVersion = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n    device.ipod = true;\n  }\n  // iOS 8+ changed UA\n  if (device.ios && device.osVersion && ua.indexOf('Version/') >= 0) {\n    if (device.osVersion.split('.')[0] === '10') {\n      device.osVersion = ua.toLowerCase().split('version/')[1].split(' ')[0];\n    }\n  }\n\n  // Webview\n  device.webView = !!((iphone || ipad || ipod) && (ua.match(/.*AppleWebKit(?!.*Safari)/i) || window.navigator.standalone)) || window.matchMedia && window.matchMedia('(display-mode: standalone)').matches;\n  device.webview = device.webView;\n  device.standalone = device.webView;\n\n  // Desktop\n  device.desktop = !(device.ios || device.android) || electron || nwjs;\n  if (device.desktop) {\n    device.electron = electron;\n    device.nwjs = nwjs;\n    device.macos = macos;\n    device.windows = windows;\n    if (device.macos) {\n      device.os = 'macos';\n    }\n    if (device.windows) {\n      device.os = 'windows';\n    }\n  }\n\n  // Pixel Ratio\n  device.pixelRatio = window.devicePixelRatio || 1;\n\n  // Color Scheme\n  const DARK = '(prefers-color-scheme: dark)';\n  const LIGHT = '(prefers-color-scheme: light)';\n  device.prefersColorScheme = function prefersColorTheme() {\n    let theme;\n    if (window.matchMedia && window.matchMedia(LIGHT).matches) {\n      theme = 'light';\n    }\n    if (window.matchMedia && window.matchMedia(DARK).matches) {\n      theme = 'dark';\n    }\n    return theme;\n  };\n\n  // Export object\n  return device;\n}\nfunction getDevice(overrides, reset) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n  if (!deviceCalculated || reset) {\n    deviceCalculated = calcDevice(overrides);\n  }\n  return deviceCalculated;\n}\nexport { getDevice };"],
  "mappings": "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",
  "names": []
}
