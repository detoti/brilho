{
  "version": 3,
  "sources": ["../../framework7/components/accordion/accordion.js"],
  "sourcesContent": ["import $ from '../../shared/dom7.js';\nimport { nextFrame, bindMethods } from '../../shared/utils.js';\nconst Accordion = {\n  toggleClicked($clickedEl) {\n    const app = this;\n    let $accordionItemEl = $clickedEl.closest('.accordion-item').eq(0);\n    if (!$accordionItemEl.length) $accordionItemEl = $clickedEl.parents('li').eq(0);\n    const $accordionContent = $clickedEl.parents('.accordion-item-content').eq(0);\n    if ($accordionContent.length) {\n      if ($accordionContent.parents($accordionItemEl).length) return;\n    }\n    if ($clickedEl.parents('li').length > 1 && $clickedEl.parents('li')[0] !== $accordionItemEl[0]) return;\n    app.accordion.toggle($accordionItemEl);\n  },\n  open(el) {\n    const app = this;\n    const $el = $(el);\n    let prevented = false;\n    function prevent() {\n      prevented = true;\n    }\n    $el.trigger('accordion:beforeopen', {\n      prevent\n    }, prevent);\n    app.emit('accordionBeforeOpen', $el[0], prevent);\n    if (prevented) return;\n    const $list = $el.parents('.accordion-list').eq(0);\n    let $contentEl = $el.children('.accordion-item-content');\n    $contentEl.removeAttr('aria-hidden');\n    if ($contentEl.length === 0) $contentEl = $el.find('.accordion-item-content');\n    if ($contentEl.length === 0) return;\n    const $openedItem = $list.length > 0 && $el.parent().children('.accordion-item-opened');\n    if ($openedItem.length > 0) {\n      app.accordion.close($openedItem);\n    }\n    $contentEl.transitionEnd(() => {\n      if ($el.hasClass('accordion-item-opened')) {\n        $contentEl.transition(0);\n        $contentEl.css('height', 'auto');\n        nextFrame(() => {\n          $contentEl.transition('');\n          $el.trigger('accordion:opened');\n          app.emit('accordionOpened', $el[0]);\n        });\n      } else {\n        $contentEl.css('height', '');\n        $el.trigger('accordion:closed');\n        app.emit('accordionClosed', $el[0]);\n      }\n    });\n    $contentEl.css('height', `${$contentEl[0].scrollHeight}px`);\n    $el.trigger('accordion:open');\n    $el.addClass('accordion-item-opened');\n    app.emit('accordionOpen', $el[0]);\n  },\n  close(el) {\n    const app = this;\n    const $el = $(el);\n    let prevented = false;\n    function prevent() {\n      prevented = true;\n    }\n    $el.trigger('accordion:beforeclose', {\n      prevent\n    }, prevent);\n    app.emit('accordionBeforeClose', $el[0], prevent);\n    if (prevented) return;\n    let $contentEl = $el.children('.accordion-item-content');\n    if ($contentEl.length === 0) $contentEl = $el.find('.accordion-item-content');\n    $el.removeClass('accordion-item-opened');\n    $contentEl.attr('aria-hidden', true);\n    $contentEl.transition(0);\n    $contentEl.css('height', `${$contentEl[0].scrollHeight}px`);\n    // Close\n    $contentEl.transitionEnd(() => {\n      if ($el.hasClass('accordion-item-opened')) {\n        $contentEl.transition(0);\n        $contentEl.css('height', 'auto');\n        nextFrame(() => {\n          $contentEl.transition('');\n          $el.trigger('accordion:opened');\n          app.emit('accordionOpened', $el[0]);\n        });\n      } else {\n        $contentEl.css('height', '');\n        $el.trigger('accordion:closed');\n        app.emit('accordionClosed', $el[0]);\n      }\n    });\n    nextFrame(() => {\n      $contentEl.transition('');\n      $contentEl.css('height', '');\n      $el.trigger('accordion:close');\n      app.emit('accordionClose', $el[0]);\n    });\n  },\n  toggle(el) {\n    const app = this;\n    const $el = $(el);\n    if ($el.length === 0) return;\n    if ($el.hasClass('accordion-item-opened')) app.accordion.close(el);else app.accordion.open(el);\n  }\n};\nexport default {\n  name: 'accordion',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      accordion: Accordion\n    });\n  },\n  clicks: {\n    '.accordion-item .item-link, .accordion-item-toggle, .links-list.accordion-list > ul > li > a': function open($clickedEl) {\n      const app = this;\n      Accordion.toggleClicked.call(app, $clickedEl);\n    }\n  }\n};"],
  "mappings": "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",
  "names": []
}
