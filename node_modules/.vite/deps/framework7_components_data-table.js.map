{
  "version": 3,
  "sources": ["../../framework7/components/data-table/data-table-class.js", "../../framework7/components/data-table/data-table.js"],
  "sourcesContent": ["import $ from '../../shared/dom7.js';\nimport { extend, deleteProps } from '../../shared/utils.js';\nimport Framework7Class from '../../shared/class.js';\nclass DataTable extends Framework7Class {\n  constructor(app, params) {\n    if (params === void 0) {\n      params = {};\n    }\n    super(params, [app]);\n    const table = this;\n    const defaults = {};\n\n    // Extend defaults with modules params\n    table.useModulesParams(defaults);\n    table.params = extend(defaults, params);\n\n    // El\n    const $el = $(table.params.el);\n    if ($el.length === 0) return undefined;\n    table.$el = $el;\n    table.el = $el[0];\n    if (table.$el[0].f7DataTable) {\n      const instance = table.$el[0].f7DataTable;\n      table.destroy();\n      return instance;\n    }\n    table.$el[0].f7DataTable = table;\n    extend(table, {\n      collapsible: $el.hasClass('data-table-collapsible'),\n      // Headers\n      $headerEl: $el.find('.data-table-header'),\n      $headerSelectedEl: $el.find('.data-table-header-selected')\n    });\n\n    // Events\n    function handleChange(e) {\n      if (e.detail && e.detail.sentByF7DataTable) {\n        // Scripted event, don't do anything\n        return;\n      }\n      const $inputEl = $(this);\n      const checked = $inputEl[0].checked;\n      const columnIndex = $inputEl.parents('td,th').index();\n      if ($inputEl.parents('thead').length > 0) {\n        if (columnIndex === 0) {\n          $el.find('tbody tr')[checked ? 'addClass' : 'removeClass']('data-table-row-selected');\n        }\n        $el.find(`tbody tr td:nth-child(${columnIndex + 1}) input`).prop('checked', checked).trigger('change', {\n          sentByF7DataTable: true\n        });\n        $inputEl.prop('indeterminate', false);\n      } else {\n        if (columnIndex === 0) {\n          $inputEl.parents('tr')[checked ? 'addClass' : 'removeClass']('data-table-row-selected');\n        }\n        const checkedRows = $el.find(`tbody .checkbox-cell:nth-child(${columnIndex + 1}) input[type=\"checkbox\"]:checked`).length;\n        const totalRows = $el.find('tbody tr').length;\n        const $headCheckboxEl = $el.find(`thead .checkbox-cell:nth-child(${columnIndex + 1}) input[type=\"checkbox\"]`);\n        if (!checked) {\n          $headCheckboxEl.prop('checked', false);\n        } else if (checkedRows === totalRows) {\n          $headCheckboxEl.prop('checked', true).trigger('change', {\n            sentByF7DataTable: true\n          });\n        }\n        $headCheckboxEl.prop('indeterminate', checkedRows > 0 && checkedRows < totalRows);\n      }\n      table.checkSelectedHeader();\n    }\n    function handleSortableClick() {\n      const $cellEl = $(this);\n      const isActive = $cellEl.hasClass('sortable-cell-active');\n      const currentSort = $cellEl.hasClass('sortable-desc') ? 'desc' : 'asc';\n      let newSort;\n      if (isActive) {\n        newSort = currentSort === 'desc' ? 'asc' : 'desc';\n        $cellEl.removeClass('sortable-desc sortable-asc').addClass(`sortable-${newSort}`);\n      } else {\n        $el.find('thead .sortable-cell-active').removeClass('sortable-cell-active');\n        $cellEl.addClass('sortable-cell-active');\n        newSort = currentSort;\n      }\n      $cellEl.trigger('datatable:sort', newSort);\n      table.emit('local::sort dataTableSort', table, newSort);\n    }\n    table.attachEvents = function attachEvents() {\n      table.$el.on('change', '.checkbox-cell input[type=\"checkbox\"]', handleChange);\n      table.$el.find('thead .sortable-cell').on('click', handleSortableClick);\n    };\n    table.detachEvents = function detachEvents() {\n      table.$el.off('change', '.checkbox-cell input[type=\"checkbox\"]', handleChange);\n      table.$el.find('thead .sortable-cell').off('click', handleSortableClick);\n    };\n\n    // Install Modules\n    table.useModules();\n\n    // Init\n    table.init();\n    return table;\n  }\n  setCollapsibleLabels() {\n    const table = this;\n    if (!table.collapsible) return;\n    table.$el.find('tbody td:not(.checkbox-cell)').each(el => {\n      const $el = $(el);\n      const elIndex = $el.index();\n      const collapsibleTitle = $el.attr('data-collapsible-title');\n      if (!collapsibleTitle && collapsibleTitle !== '') {\n        $el.attr('data-collapsible-title', table.$el.find('thead th').eq(elIndex).text());\n      }\n    });\n  }\n  checkSelectedHeader() {\n    const table = this;\n    if (table.$headerEl.length > 0 && table.$headerSelectedEl.length > 0) {\n      const checkedItems = table.$el.find('tbody .checkbox-cell input:checked').length;\n      table.$el[checkedItems > 0 ? 'addClass' : 'removeClass']('data-table-has-checked');\n      table.$headerSelectedEl.find('.data-table-selected-count').text(checkedItems);\n    }\n  }\n  init() {\n    const table = this;\n    table.attachEvents();\n    table.setCollapsibleLabels();\n    table.checkSelectedHeader();\n  }\n  destroy() {\n    let table = this;\n    table.$el.trigger('datatable:beforedestroy');\n    table.emit('local::beforeDestroy dataTableBeforeDestroy', table);\n    table.detachEvents();\n    if (table.$el[0]) {\n      table.$el[0].f7DataTable = null;\n      delete table.$el[0].f7DataTable;\n    }\n    deleteProps(table);\n    table = null;\n  }\n}\nexport default DataTable;", "import $ from '../../shared/dom7.js';\nimport DataTable from './data-table-class.js';\nimport ConstructorMethods from '../../shared/constructor-methods.js';\nexport default {\n  name: 'dataTable',\n  static: {\n    DataTable\n  },\n  create() {\n    const app = this;\n    app.dataTable = ConstructorMethods({\n      defaultSelector: '.data-table',\n      constructor: DataTable,\n      app,\n      domProp: 'f7DataTable'\n    });\n  },\n  on: {\n    tabBeforeRemove(tabEl) {\n      const app = this;\n      $(tabEl).find('.data-table-init').each(tableEl => {\n        app.dataTable.destroy(tableEl);\n      });\n    },\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl).find('.data-table-init').each(tableEl => {\n        app.dataTable.create({\n          el: tableEl\n        });\n      });\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.data-table-init').each(tableEl => {\n        app.dataTable.destroy(tableEl);\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.data-table-init').each(tableEl => {\n        app.dataTable.create({\n          el: tableEl\n        });\n      });\n    }\n  },\n  vnode: {\n    'data-table-init': {\n      insert(vnode) {\n        const app = this;\n        const tableEl = vnode.elm;\n        app.dataTable.create({\n          el: tableEl\n        });\n      },\n      destroy(vnode) {\n        const app = this;\n        const tableEl = vnode.elm;\n        app.dataTable.destroy(tableEl);\n      }\n    }\n  }\n};"],
  "mappings": "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",
  "names": []
}
