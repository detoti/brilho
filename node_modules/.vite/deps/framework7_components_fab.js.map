{
  "version": 3,
  "sources": ["../../framework7/components/fab/fab.js"],
  "sourcesContent": ["import $ from '../../shared/dom7.js';\nimport { bindMethods, getTranslate, nextFrame } from '../../shared/utils.js';\nconst Fab = {\n  morphOpen(fabEl, targetEl) {\n    const app = this;\n    const $fabEl = $(fabEl);\n    const $targetEl = $(targetEl);\n    if ($targetEl.length === 0) return;\n    $targetEl.transition(0).addClass('fab-morph-target-visible');\n    const target = {\n      width: $targetEl[0].offsetWidth,\n      height: $targetEl[0].offsetHeight,\n      offset: $targetEl.offset(),\n      borderRadius: $targetEl.css('border-radius'),\n      zIndex: $targetEl.css('z-index')\n    };\n    const fab = {\n      width: $fabEl[0].offsetWidth,\n      height: $fabEl[0].offsetHeight,\n      offset: $fabEl.offset(),\n      translateX: getTranslate($fabEl[0], 'x'),\n      translateY: getTranslate($fabEl[0], 'y')\n    };\n    $fabEl[0].f7FabMorphData = {\n      $targetEl,\n      target,\n      fab\n    };\n    const diffX = fab.offset.left + fab.width / 2 - (target.offset.left + target.width / 2) - fab.translateX;\n    const diffY = fab.offset.top + fab.height / 2 - (target.offset.top + target.height / 2) - fab.translateY;\n    const scaleX = target.width / fab.width;\n    const scaleY = target.height / fab.height;\n    let borderRadius = Math.ceil(parseInt(target.borderRadius, 10) / Math.max(scaleX, scaleY));\n    if (borderRadius > 0) borderRadius += 2;\n    $fabEl[0].f7FabMorphResizeHandler = function resizeHandler() {\n      $fabEl.transition(0).transform('');\n      $targetEl.transition(0);\n      target.width = $targetEl[0].offsetWidth;\n      target.height = $targetEl[0].offsetHeight;\n      target.offset = $targetEl.offset();\n      fab.offset = $fabEl.offset();\n      const diffXNew = fab.offset.left + fab.width / 2 - (target.offset.left + target.width / 2) - fab.translateX;\n      const diffYNew = fab.offset.top + fab.height / 2 - (target.offset.top + target.height / 2) - fab.translateY;\n      const scaleXNew = target.width / fab.width;\n      const scaleYNew = target.height / fab.height;\n      $fabEl.transform(`translate3d(${-diffXNew}px, ${-diffYNew}px, 0) scale(${scaleXNew}, ${scaleYNew})`);\n    };\n    $targetEl.css('opacity', 0).transform(`scale(${1 / scaleX}, ${1 / scaleY})`);\n    $fabEl.addClass('fab-opened').css('z-index', target.zIndex - 1).transform(`translate3d(${-diffX}px, ${-diffY}px, 0)`);\n    $fabEl.transitionEnd(() => {\n      $targetEl.transition('');\n      nextFrame(() => {\n        $targetEl.css('opacity', 1).transform('scale(1,1)');\n        $fabEl.transform(`translate3d(${-diffX}px, ${-diffY}px, 0) scale(${scaleX}, ${scaleY})`).css('border-radius', `${borderRadius}px`).css('box-shadow', 'none').css('opacity', '0');\n      });\n      app.on('resize', $fabEl[0].f7FabMorphResizeHandler);\n      if ($targetEl.parents('.page-content').length > 0) {\n        $targetEl.parents('.page-content').on('scroll', $fabEl[0].f7FabMorphResizeHandler);\n      }\n    });\n  },\n  morphClose(fabEl) {\n    const app = this;\n    const $fabEl = $(fabEl);\n    const morphData = $fabEl[0].f7FabMorphData;\n    if (!morphData) return;\n    const {\n      $targetEl,\n      target,\n      fab\n    } = morphData;\n    if ($targetEl.length === 0) return;\n    const diffX = fab.offset.left + fab.width / 2 - (target.offset.left + target.width / 2) - fab.translateX;\n    const diffY = fab.offset.top + fab.height / 2 - (target.offset.top + target.height / 2) - fab.translateY;\n    const scaleX = target.width / fab.width;\n    const scaleY = target.height / fab.height;\n    app.off('resize', $fabEl[0].f7FabMorphResizeHandler);\n    if ($targetEl.parents('.page-content').length > 0) {\n      $targetEl.parents('.page-content').off('scroll', $fabEl[0].f7FabMorphResizeHandler);\n    }\n    $targetEl.css('opacity', 0).transform(`scale(${1 / scaleX}, ${1 / scaleY})`);\n    $fabEl.transition('').css('box-shadow', '').css('border-radius', '').css('opacity', '1').transform(`translate3d(${-diffX}px, ${-diffY}px, 0)`);\n    $fabEl.transitionEnd(() => {\n      $fabEl.css('z-index', '').removeClass('fab-opened').transform('');\n      nextFrame(() => {\n        $fabEl.transitionEnd(() => {\n          $targetEl.removeClass('fab-morph-target-visible').css('opacity', '').transform('').transition('');\n        });\n      });\n    });\n  },\n  open(fabEl, targetEl) {\n    const app = this;\n    const $fabEl = $(fabEl).eq(0);\n    const $buttonsEl = $fabEl.find('.fab-buttons');\n    if (!$fabEl.length) return;\n    if ($fabEl.hasClass('fab-opened')) return;\n    if (!$buttonsEl.length && !$fabEl.hasClass('fab-morph')) return;\n    if (app.fab.openedEl) {\n      if (app.fab.openedEl === $fabEl[0]) return;\n      app.fab.close(app.fab.openedEl);\n    }\n    app.fab.openedEl = $fabEl[0];\n    if ($fabEl.hasClass('fab-morph')) {\n      app.fab.morphOpen($fabEl, targetEl || $fabEl.attr('data-morph-to'));\n    } else {\n      $fabEl.addClass('fab-opened');\n    }\n    $fabEl.siblings('.fab-backdrop').addClass('backdrop-in');\n    $fabEl.trigger('fab:open');\n  },\n  close(fabEl) {\n    if (fabEl === void 0) {\n      fabEl = '.fab-opened';\n    }\n    const app = this;\n    const $fabEl = $(fabEl).eq(0);\n    const $buttonsEl = $fabEl.find('.fab-buttons');\n    if (!$fabEl.length) return;\n    if (!$fabEl.hasClass('fab-opened')) return;\n    if (!$buttonsEl.length && !$fabEl.hasClass('fab-morph')) return;\n    app.fab.openedEl = null;\n    if ($fabEl.hasClass('fab-morph')) {\n      app.fab.morphClose($fabEl);\n    } else {\n      $fabEl.removeClass('fab-opened');\n    }\n    $fabEl.siblings('.fab-backdrop').removeClass('backdrop-in');\n    $fabEl.trigger('fab:close');\n  },\n  toggle(fabEl) {\n    const app = this;\n    const $fabEl = $(fabEl);\n    if (!$fabEl.hasClass('fab-opened')) app.fab.open(fabEl);else app.fab.close(fabEl);\n  }\n};\nexport default {\n  name: 'fab',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      fab: {\n        openedEl: null,\n        ...Fab\n      }\n    });\n  },\n  clicks: {\n    '.fab > a': function open($clickedEl) {\n      const app = this;\n      app.fab.toggle($clickedEl.parents('.fab'));\n    },\n    '.fab-open': function open($clickedEl, data) {\n      if (data === void 0) {\n        data = {};\n      }\n      const app = this;\n      app.fab.open(data.fab);\n    },\n    '.fab-close': function close($clickedEl, data) {\n      if (data === void 0) {\n        data = {};\n      }\n      const app = this;\n      app.fab.close(data.fab);\n    },\n    '.fab-backdrop': function close() {\n      const app = this;\n      app.fab.close();\n    }\n  }\n};"],
  "mappings": "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",
  "names": ["open", "close"]
}
