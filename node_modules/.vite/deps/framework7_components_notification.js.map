{
  "version": 3,
  "sources": ["../../framework7/components/notification/notification-class.js", "../../framework7/components/notification/notification.js"],
  "sourcesContent": ["import $ from '../../shared/dom7.js';\nimport { extend, now, nextTick } from '../../shared/utils.js';\nimport Modal from '../modal/modal-class.js';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx.js';\nclass Notification extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({\n      on: {}\n    }, app.params.notification, params);\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n    const notification = this;\n    notification.app = app;\n    notification.params = extendedParams;\n    const {\n      icon,\n      title,\n      titleRightText,\n      subtitle,\n      text,\n      closeButton,\n      closeTimeout,\n      cssClass,\n      closeOnClick\n    } = notification.params;\n    let $el;\n    if (!notification.params.el) {\n      // Find Element\n      const notificationHtml = notification.render({\n        icon,\n        title,\n        titleRightText,\n        subtitle,\n        text,\n        closeButton,\n        cssClass\n      });\n      $el = $(notificationHtml);\n    } else {\n      $el = $(notification.params.el);\n    }\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n    if ($el.length === 0) {\n      return notification.destroy();\n    }\n    extend(notification, {\n      $el,\n      el: $el[0],\n      type: 'notification'\n    });\n    $el[0].f7Modal = notification;\n    if (closeButton) {\n      $el.find('.notification-close-button').on('click', () => {\n        notification.close();\n      });\n    }\n    $el.on('click', e => {\n      if (closeButton && $(e.target).closest('.notification-close-button').length) {\n        return;\n      }\n      notification.emit('local::click notificationClick', notification);\n      if (closeOnClick) notification.close();\n    });\n    notification.on('beforeDestroy', () => {\n      $el.off('click');\n    });\n\n    /* Touch Events */\n    let isTouched;\n    let isMoved;\n    let isScrolling;\n    let touchesDiff;\n    let touchStartTime;\n    let notificationHeight;\n    const touchesStart = {};\n    function handleTouchStart(e) {\n      if (isTouched) return;\n      isTouched = true;\n      isMoved = false;\n      isScrolling = undefined;\n      touchStartTime = now();\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    }\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) < Math.abs(pageX - touchesStart.x));\n      }\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n      e.preventDefault();\n      if (!isMoved) {\n        notification.$el.removeClass('notification-transitioning');\n        notification.$el.transition(0);\n        notificationHeight = notification.$el[0].offsetHeight / 2;\n      }\n      isMoved = true;\n      touchesDiff = pageY - touchesStart.y;\n      let newTranslate = touchesDiff;\n      if (touchesDiff > 0) {\n        newTranslate = touchesDiff ** 0.8;\n      }\n      notification.$el.transform(`translate3d(0, ${newTranslate}px, 0)`);\n    }\n    function handleTouchEnd() {\n      if (!isTouched || !isMoved) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n      isTouched = false;\n      isMoved = false;\n      if (touchesDiff === 0) {\n        return;\n      }\n      const timeDiff = now() - touchStartTime;\n      notification.$el.transition('');\n      notification.$el.addClass('notification-transitioning');\n      notification.$el.transform('');\n      if (touchesDiff < -10 && timeDiff < 300 || -touchesDiff >= notificationHeight / 1) {\n        notification.close();\n      }\n    }\n    function attachTouchEvents() {\n      notification.$el.on(app.touchEvents.start, handleTouchStart, {\n        passive: true\n      });\n      app.on('touchmove:active', handleTouchMove);\n      app.on('touchend:passive', handleTouchEnd);\n    }\n    function detachTouchEvents() {\n      notification.$el.off(app.touchEvents.start, handleTouchStart, {\n        passive: true\n      });\n      app.off('touchmove:active', handleTouchMove);\n      app.off('touchend:passive', handleTouchEnd);\n    }\n    let timeoutId;\n    function closeOnTimeout() {\n      timeoutId = nextTick(() => {\n        if (isTouched && isMoved) {\n          closeOnTimeout();\n          return;\n        }\n        notification.close();\n      }, closeTimeout);\n    }\n    notification.on('open', () => {\n      if (notification.params.swipeToClose) {\n        attachTouchEvents();\n      }\n      $('.notification.modal-in').each(openedEl => {\n        const notificationInstance = app.notification.get(openedEl);\n        if (openedEl !== notification.el && notificationInstance) {\n          notificationInstance.close();\n        }\n      });\n      if (closeTimeout) {\n        closeOnTimeout();\n      }\n    });\n    notification.on('close beforeDestroy', () => {\n      if (notification.params.swipeToClose) {\n        detachTouchEvents();\n      }\n      clearTimeout(timeoutId);\n    });\n    return notification;\n  }\n  render() {\n    const notification = this;\n    if (notification.params.render) return notification.params.render.call(notification, notification);\n    const {\n      icon,\n      title,\n      titleRightText,\n      subtitle,\n      text,\n      closeButton,\n      cssClass\n    } = notification.params;\n    return $jsx(\"div\", {\n      class: `notification ${icon ? 'notification-with-icon' : ''} ${cssClass || ''}`\n    }, $jsx(\"div\", {\n      class: \"notification-header\"\n    }, icon && $jsx(\"div\", {\n      class: \"notification-icon\"\n    }, icon), title && $jsx(\"div\", {\n      class: \"notification-title\"\n    }, title), titleRightText && $jsx(\"div\", {\n      class: \"notification-title-right-text\"\n    }, titleRightText), closeButton && $jsx(\"span\", {\n      class: \"notification-close-button\"\n    })), $jsx(\"div\", {\n      class: \"notification-content\"\n    }, subtitle && $jsx(\"div\", {\n      class: \"notification-subtitle\"\n    }, subtitle), text && $jsx(\"div\", {\n      class: \"notification-text\"\n    }, text)));\n  }\n}\nexport default Notification;", "import { extend } from '../../shared/utils.js';\nimport Notification from './notification-class.js';\nimport ModalMethods from '../../shared/modal-methods.js';\nexport default {\n  name: 'notification',\n  static: {\n    Notification\n  },\n  create() {\n    const app = this;\n    app.notification = extend({}, ModalMethods({\n      app,\n      constructor: Notification,\n      defaultSelector: '.notification.modal-in'\n    }));\n  },\n  params: {\n    notification: {\n      icon: null,\n      title: null,\n      titleRightText: null,\n      subtitle: null,\n      text: null,\n      closeButton: false,\n      closeTimeout: null,\n      closeOnClick: false,\n      swipeToClose: true,\n      cssClass: null,\n      render: null,\n      containerEl: null\n    }\n  }\n};"],
  "mappings": "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",
  "names": []
}
