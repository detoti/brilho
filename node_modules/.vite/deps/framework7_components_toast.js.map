{
  "version": 3,
  "sources": ["../../framework7/components/toast/toast-class.js", "../../framework7/components/toast/toast.js"],
  "sourcesContent": ["import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { extend, nextTick } from '../../shared/utils.js';\nimport Modal from '../modal/modal-class.js';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx.js';\nclass Toast extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({\n      on: {}\n    }, app.params.toast, params);\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n    const toast = this;\n    const window = getWindow();\n    toast.app = app;\n    toast.params = extendedParams;\n    const {\n      closeButton,\n      closeTimeout\n    } = toast.params;\n    let $el;\n    if (!toast.params.el) {\n      // Find Element\n      const toastHtml = toast.render();\n      $el = $(toastHtml);\n    } else {\n      $el = $(toast.params.el);\n    }\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n    if ($el.length === 0) {\n      return toast.destroy();\n    }\n    extend(toast, {\n      $el,\n      el: $el[0],\n      type: 'toast'\n    });\n    $el[0].f7Modal = toast;\n    if (closeButton) {\n      $el.find('.toast-button').on('click', () => {\n        toast.emit('local::closeButtonClick toastCloseButtonClick', toast);\n        toast.close();\n      });\n      toast.on('beforeDestroy', () => {\n        $el.find('.toast-button').off('click');\n      });\n    }\n    let timeoutId;\n    toast.on('open', () => {\n      $('.toast.modal-in').each(openedEl => {\n        const toastInstance = app.toast.get(openedEl);\n        if (openedEl !== toast.el && toastInstance) {\n          toastInstance.close();\n        }\n      });\n      if (closeTimeout) {\n        timeoutId = nextTick(() => {\n          toast.close();\n        }, closeTimeout);\n      }\n    });\n    toast.on('close', () => {\n      window.clearTimeout(timeoutId);\n    });\n    if (toast.params.destroyOnClose) {\n      toast.once('closed', () => {\n        setTimeout(() => {\n          toast.destroy();\n        }, 0);\n      });\n    }\n    return toast;\n  }\n  render() {\n    const toast = this;\n    if (toast.params.render) return toast.params.render.call(toast, toast);\n    const {\n      position,\n      horizontalPosition,\n      cssClass,\n      icon,\n      text,\n      closeButton,\n      closeButtonColor,\n      closeButtonText\n    } = toast.params;\n    const horizontalClass = position === 'top' || position === 'bottom' ? `toast-horizontal-${horizontalPosition}` : '';\n    return $jsx(\"div\", {\n      class: `toast toast-${position} ${horizontalClass} ${cssClass || ''} ${icon ? 'toast-with-icon' : ''}`\n    }, $jsx(\"div\", {\n      class: \"toast-content\"\n    }, icon && $jsx(\"div\", {\n      class: \"toast-icon\"\n    }, icon), $jsx(\"div\", {\n      class: \"toast-text\"\n    }, text), closeButton && !icon && $jsx(\"a\", {\n      class: `toast-button button ${closeButtonColor ? `color-${closeButtonColor}` : ''}`\n    }, closeButtonText)));\n  }\n}\nexport default Toast;", "import { extend } from '../../shared/utils.js';\nimport Toast from './toast-class.js';\nimport ModalMethods from '../../shared/modal-methods.js';\nexport default {\n  name: 'toast',\n  static: {\n    Toast\n  },\n  create() {\n    const app = this;\n    app.toast = extend({}, ModalMethods({\n      app,\n      constructor: Toast,\n      defaultSelector: '.toast.modal-in'\n    }), {\n      // Shortcuts\n      show(params) {\n        extend(params, {\n          destroyOnClose: true\n        });\n        return new Toast(app, params).open();\n      }\n    });\n  },\n  params: {\n    toast: {\n      icon: null,\n      text: null,\n      position: 'bottom',\n      horizontalPosition: 'left',\n      closeButton: false,\n      closeButtonColor: null,\n      closeButtonText: 'Ok',\n      closeTimeout: null,\n      cssClass: null,\n      render: null,\n      containerEl: null\n    }\n  }\n};"],
  "mappings": "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",
  "names": []
}
