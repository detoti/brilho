{
  "version": 3,
  "sources": ["../../framework7/components/toggle/toggle-class.js", "../../framework7/components/toggle/toggle.js"],
  "sourcesContent": ["import $ from '../../shared/dom7.js';\nimport { extend, now, nextTick, deleteProps } from '../../shared/utils.js';\nimport Framework7Class from '../../shared/class.js';\nimport { getSupport } from '../../shared/get-support.js';\nclass Toggle extends Framework7Class {\n  constructor(app, params) {\n    if (params === void 0) {\n      params = {};\n    }\n    super(params, [app]);\n    const toggle = this;\n    const support = getSupport();\n    const defaults = {};\n\n    // Extend defaults with modules params\n    toggle.useModulesParams(defaults);\n    toggle.params = extend(defaults, params);\n    const el = toggle.params.el;\n    if (!el) return toggle;\n    const $el = $(el);\n    if ($el.length === 0) return toggle;\n    if ($el[0].f7Toggle) return $el[0].f7Toggle;\n    const $inputEl = $el.children('input[type=\"checkbox\"]');\n    extend(toggle, {\n      app,\n      $el,\n      el: $el[0],\n      $inputEl,\n      inputEl: $inputEl[0],\n      disabled: $el.hasClass('disabled') || $inputEl.hasClass('disabled') || $inputEl.attr('disabled') || $inputEl[0].disabled\n    });\n    Object.defineProperty(toggle, 'checked', {\n      enumerable: true,\n      configurable: true,\n      set(checked) {\n        if (!toggle || typeof toggle.$inputEl === 'undefined') return;\n        if (toggle.checked === checked) return;\n        $inputEl[0].checked = checked;\n        toggle.$inputEl.trigger('change');\n      },\n      get() {\n        return $inputEl[0].checked;\n      }\n    });\n    $el[0].f7Toggle = toggle;\n    let isTouched;\n    const touchesStart = {};\n    let isScrolling;\n    let touchesDiff;\n    let toggleWidth;\n    let touchStartTime;\n    let touchStartChecked;\n    function handleTouchStart(e) {\n      if (isTouched || toggle.disabled) return;\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      touchesDiff = 0;\n      isTouched = true;\n      isScrolling = undefined;\n      touchStartTime = now();\n      touchStartChecked = toggle.checked;\n      toggleWidth = $el[0].offsetWidth;\n      nextTick(() => {\n        if (isTouched) {\n          $el.addClass('toggle-active-state');\n        }\n      });\n    }\n    function handleTouchMove(e) {\n      if (!isTouched || toggle.disabled) return;\n      const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      const inverter = app.rtl ? -1 : 1;\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n      }\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n      e.preventDefault();\n      touchesDiff = pageX - touchesStart.x;\n      let changed;\n      if (touchesDiff * inverter < 0 && Math.abs(touchesDiff) > toggleWidth / 3 && touchStartChecked) {\n        changed = true;\n      }\n      if (touchesDiff * inverter > 0 && Math.abs(touchesDiff) > toggleWidth / 3 && !touchStartChecked) {\n        changed = true;\n      }\n      if (changed) {\n        touchesStart.x = pageX;\n        toggle.checked = !touchStartChecked;\n        touchStartChecked = !touchStartChecked;\n      }\n    }\n    function handleTouchEnd() {\n      if (!isTouched || toggle.disabled) {\n        if (isScrolling) $el.removeClass('toggle-active-state');\n        isTouched = false;\n        return;\n      }\n      const inverter = app.rtl ? -1 : 1;\n      isTouched = false;\n      $el.removeClass('toggle-active-state');\n      let changed;\n      if (now() - touchStartTime < 300) {\n        if (touchesDiff * inverter < 0 && touchStartChecked) {\n          changed = true;\n        }\n        if (touchesDiff * inverter > 0 && !touchStartChecked) {\n          changed = true;\n        }\n        if (changed) {\n          toggle.checked = !touchStartChecked;\n        }\n      }\n    }\n    function handleInputChange() {\n      toggle.$el.trigger('toggle:change');\n      toggle.emit('local::change toggleChange', toggle);\n    }\n    toggle.attachEvents = function attachEvents() {\n      const passive = support.passiveListener ? {\n        passive: true\n      } : false;\n      $el.on(app.touchEvents.start, handleTouchStart, passive);\n      app.on('touchmove', handleTouchMove);\n      app.on('touchend:passive', handleTouchEnd);\n      toggle.$inputEl.on('change', handleInputChange);\n    };\n    toggle.detachEvents = function detachEvents() {\n      const passive = support.passiveListener ? {\n        passive: true\n      } : false;\n      $el.off(app.touchEvents.start, handleTouchStart, passive);\n      app.off('touchmove', handleTouchMove);\n      app.off('touchend:passive', handleTouchEnd);\n      toggle.$inputEl.off('change', handleInputChange);\n    };\n\n    // Install Modules\n    toggle.useModules();\n\n    // Init\n    toggle.init();\n  }\n  toggle() {\n    const toggle = this;\n    toggle.checked = !toggle.checked;\n  }\n  init() {\n    const toggle = this;\n    toggle.attachEvents();\n  }\n  destroy() {\n    let toggle = this;\n    toggle.$el.trigger('toggle:beforedestroy');\n    toggle.emit('local::beforeDestroy toggleBeforeDestroy', toggle);\n    delete toggle.$el[0].f7Toggle;\n    toggle.detachEvents();\n    deleteProps(toggle);\n    toggle = null;\n  }\n}\nexport default Toggle;", "import $ from '../../shared/dom7.js';\nimport ConstructorMethods from '../../shared/constructor-methods.js';\nimport Toggle from './toggle-class.js';\nexport default {\n  name: 'toggle',\n  create() {\n    const app = this;\n    app.toggle = ConstructorMethods({\n      defaultSelector: '.toggle',\n      constructor: Toggle,\n      app,\n      domProp: 'f7Toggle'\n    });\n  },\n  static: {\n    Toggle\n  },\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl).find('.toggle-init').each(toggleEl => app.toggle.create({\n        el: toggleEl\n      }));\n    },\n    tabBeforeRemove(tabEl) {\n      $(tabEl).find('.toggle-init').each(toggleEl => {\n        if (toggleEl.f7Toggle) toggleEl.f7Toggle.destroy();\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.toggle-init').each(toggleEl => app.toggle.create({\n        el: toggleEl\n      }));\n    },\n    pageBeforeRemove(page) {\n      page.$el.find('.toggle-init').each(toggleEl => {\n        if (toggleEl.f7Toggle) toggleEl.f7Toggle.destroy();\n      });\n    }\n  },\n  vnode: {\n    'toggle-init': {\n      insert(vnode) {\n        const app = this;\n        const toggleEl = vnode.elm;\n        app.toggle.create({\n          el: toggleEl\n        });\n      },\n      destroy(vnode) {\n        const toggleEl = vnode.elm;\n        if (toggleEl.f7Toggle) toggleEl.f7Toggle.destroy();\n      }\n    }\n  }\n};"],
  "mappings": "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",
  "names": []
}
